{"version":3,"sources":["webpack:///./src/views/content/user-card.vue?b4e2","webpack:///./src/components/message/message-list.vue?6291","webpack:///./src/components/message/message-list.vue?a18f","webpack:///./src/components/message/message-list.vue","webpack:///./src/views/content/user-card.vue?7bc8","webpack:///./src/views/content/user-card.vue?8506","webpack:///./src/views/content/user-card.vue","webpack:///src/components/message/message-list.vue","webpack:///./src/components/message/message-list.vue?c48e","webpack:///./node_modules/sleepjs/source/index.js","webpack:///src/views/content/user-card.vue","webpack:///./src/components/message/new-i-message.vue?d259","webpack:///./src/components/message/new-i-message.vue?4cd5","webpack:///src/components/message/new-i-message.vue","webpack:///./src/components/message/new-i-message.vue?99f0","webpack:///./src/components/message/new-i-message.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_user_card_vue_vue_type_style_index_0_id_5010e292_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_user_card_vue_vue_type_style_index_0_id_5010e292_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","staticStyle","margin-bottom","staticClass","attrs","type","on","click","handlePost","_v","handleReload","_e","_l","item","key","id","width","$event","jumpToMessageDetail","retweetorId","retweetMessageId","color","_s","retweetorName","span","src","avatarUrl","stopPropagation","jumpToUserCard","creator","margin-left","creatorName","font-size","createTime","substring","float","size","domProps","innerHTML","html","commentNums","retweetIconType","lock","doRetweetSwitch","retweetNums","iconType","doLikeSwitch","likeNums","ref","on-success-valid","handleNewMessage","staticRenderFns","message_message_listvue_type_script_lang_js_","message_listvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","avatarSrc","userData","crewName","mail","phoneNum","showFollow","icon","ghost","disabled","buttonController","handleFollowStatus","showPostBar","messageItems","userMessageItems","z-index","fix","content_user_cardvue_type_script_lang_js_","user_cardvue_type_script_lang_js_","components","NewMessage","_components_message_new_i_message__WEBPACK_IMPORTED_MODULE_1__","props","Array","Boolean","default","data","iconNoLike","iconLike","iconNoRetweet","iconRetweet","bottomHight","computed","$store","state","created","methods","openNewMessagePannel","$emit","$refs","newMessage","show","closeNewMessagePannel","_util_httpUtil_js__WEBPACK_IMPORTED_MODULE_2__","global","$prop","URL","newMessageResponse","responseData","$util","successNotice","routerPushRestful","name","params","userId","self","doLike","likerId","messageId","messageCreator","curItem","doLikeResponse","cancelLike","cancelLikeResponse","String","Number","newReTweetMessage","curUserId","newReTweetMessageResponse","cancelReTweetMessage","cancelReTweetMessageResponse","handleReachBottom","_this","Promise","resolve","setTimeout","last","list1","length","i","push","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_message_list_vue_vue_type_style_index_0_id_9ac650f0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_message_list_vue_vue_type_style_index_0_id_9ac650f0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","sleep","async","time","sleepSeconds","timeInSeconds","sleepMinutes","timeInMinutes","sleepHours","timeInHours","sleepDays","timeInDays","exports","module","sleepMilliseconds","MessageList","_components_message_message_list__WEBPACK_IMPORTED_MODULE_2__","loading","loginUserData","initUserData","$route","initUserIMessage","initFollowStatus","_util_httpUtil_js__WEBPACK_IMPORTED_MODULE_0__","getCrew","initUserDataResponse","crew","getAvatarUrl","routerPush","getUserMessage","initMyIMessageResponse","messages","loginUserId","isFollowing","followerId","followingId","initFollowStatusResponse","follow","cancelFollow","addFollow","controlFollowButtonClick","cancelFollowResponse","logger","addFollowResponse","flag","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_new_i_message_vue_vue_type_style_index_0_id_7ada9a6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_new_i_message_vue_vue_type_style_index_0_id_7ada9a6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","title","placement","closable","model","value","callback","$$v","expression","showPostButton","new_i_messagevue_type_script_lang_js_","RichText","rich_text","message_new_i_messagevue_type_script_lang_js_"],"mappings":"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","file":"js/userCard.17f871e4.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-card.vue?vue&type=style&index=0&id=5010e292&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-card.vue?vue&type=style&index=0&id=5010e292&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showPostBar)?_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('Button',{staticClass:\"postButton\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePost}},[_vm._v(\"发文\")]),_c('Button',{staticClass:\"postButton\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleReload}},[_vm._v(\"刷新\")])],1):_vm._e(),_vm._l((_vm.messageItems),function(item){return _c('Card',{key:item.id,staticClass:\"iMessageCard\",staticStyle:{\"width\":\"100%\"}},[_c('div',{on:{\"click\":function($event){return _vm.jumpToMessageDetail(item.retweetorId > 0 ? item.retweetMessageId : item.id)}}},[_c('Row',[(item.retweetorId > 0)?_c('p',{staticStyle:{\"color\":\"rgb(155, 160, 165)\"}},[_c('Icon',{attrs:{\"type\":\"ios-repeat\"}}),_vm._v(\"\\n          \"+_vm._s(item.retweetorName)+\"转推了\\n        \")],1):_vm._e(),_c('i-col',{attrs:{\"span\":\"2\"}},[_c('img',{staticClass:\"iMessageAvatar\",attrs:{\"src\":item.avatarUrl},on:{\"click\":function($event){$event.stopPropagation();return _vm.jumpToUserCard(item.creator)}}})]),_c('i-col',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"span\":\"21\"}},[_c('p',{staticClass:\"crewName-little\"},[_c('span',{staticClass:\"creatorNameSpan\",on:{\"click\":function($event){$event.stopPropagation();return _vm.jumpToUserCard(item.creator)}}},[_vm._v(_vm._s(item.creatorName))]),_vm._v(\"\\n            ·\\n            \"),_c('span',{staticStyle:{\"color\":\"rgb(101, 119, 134)\",\"font-size\":\"15px\"}},[_vm._v(_vm._s(item.createTime.substring(0,4))+\".\"+_vm._s(item.createTime.substring(4,6))+\".\"+_vm._s(item.createTime.substring(6,8))+\" \"+_vm._s(item.createTime.substring(8,10))+\":\"+_vm._s(item.createTime.substring(10,12)))]),_c('span',{staticStyle:{\"float\":\"right\"}},[_c('Icon',{attrs:{\"size\":18,\"type\":\"md-arrow-dropdown\"}})],1)]),_c('p',{staticClass:\"iMessage\",domProps:{\"innerHTML\":_vm._s(item.html)}}),_c('div',{staticClass:\"toolGroup\"},[_c('Icon',{staticClass:\"toolIcon\",attrs:{\"type\":\"ios-chatbubbles-outline\"}}),_c('span',{staticClass:\"toolSpan\"},[_vm._v(_vm._s(item.commentNums))]),_c('Icon',{staticClass:\"toolIcon\",attrs:{\"type\":item.retweetIconType},on:{\"click\":function($event){$event.stopPropagation();_vm.lock && _vm.doRetweetSwitch(item)}}}),_c('span',{staticClass:\"toolSpan\"},[_vm._v(_vm._s(item.retweetNums))]),_c('Icon',{staticClass:\"toolIcon\",attrs:{\"type\":item.iconType},on:{\"click\":function($event){$event.stopPropagation();_vm.lock && _vm.doLikeSwitch(item)}}}),_c('span',{staticClass:\"toolSpan\"},[_vm._v(_vm._s(item.likeNums))])],1)])],1)],1)])}),_c('new-message',{ref:\"newMessage\",on:{\"on-success-valid\":_vm.handleNewMessage}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./message-list.vue?vue&type=template&id=9ac650f0&scoped=true&\"\nimport script from \"./message-list.vue?vue&type=script&lang=js&\"\nexport * from \"./message-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message-list.vue?vue&type=style&index=0&id=9ac650f0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ac650f0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Content',{staticClass:\"IonaContent\"},[_c('Row',[_c('i-col',{attrs:{\"span\":\"6\"}},[_c('div',{staticStyle:{\"width\":\"fit-content\"}},[_c('div',{staticClass:\"avatarCover\"},[_c('img',{attrs:{\"src\":_vm.avatarSrc}})]),_c('div',[_c('div',[_c('p',{staticClass:\"crewName\"},[_vm._v(_vm._s(_vm.userData.crewName))]),_c('p',{staticClass:\"crewOther\"},[_c('Icon',{attrs:{\"type\":\"ios-mail-outline\"}}),_c('a',[_vm._v(_vm._s(_vm.userData.mail))])],1),_c('p',{staticClass:\"crewOther\"},[_c('Icon',{attrs:{\"type\":\"ios-phone-portrait\"}}),_vm._v(\"\\n              \"+_vm._s(_vm.userData.phoneNum)+\"\\n            \")],1)])]),_c('div',[(!_vm.showFollow)?_c('Button',{staticClass:\"followButton\",attrs:{\"icon\":\"ios-heart-outline\",\"type\":\"info\",\"ghost\":\"\",\"disabled\":_vm.buttonController},on:{\"click\":_vm.handleFollowStatus}},[_vm._v(\"关注\")]):_vm._e(),(_vm.showFollow)?_c('Button',{staticClass:\"followButton\",attrs:{\"icon\":\"ios-heart-outline\",\"type\":\"info\",\"disabled\":_vm.buttonController},on:{\"click\":_vm.handleFollowStatus}},[_vm._v(\"取消关注\")]):_vm._e()],1)])]),_c('i-col',{attrs:{\"span\":\"18\"}},[_c('message-list',{attrs:{\"showPostBar\":false,\"messageItems\":_vm.userMessageItems}})],1)],1),(_vm.loading)?_c('Spin',{staticStyle:{\"z-index\":\"1000\"},attrs:{\"fix\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-card.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./user-card.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./user-card.vue?vue&type=template&id=5010e292&scoped=true&\"\nimport script from \"./user-card.vue?vue&type=script&lang=js&\"\nexport * from \"./user-card.vue?vue&type=script&lang=js&\"\nimport style0 from \"./user-card.vue?vue&type=style&index=0&id=5010e292&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5010e292\",\n  null\n  \n)\n\nexport default component.exports","<style scoped>\n.postButton {\n  width: 10%;\n  border-radius: 20px;\n  margin-right: 20px;\n}\n.iMessageCard {\n  margin-bottom: 10px;\n  cursor: pointer;\n}\n\n.iMessage {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 17px;\n  overflow-wrap: break-word;\n  margin-top: 5px;\n  white-space: pre-wrap;\n}\n.toolGroup {\n  margin-top: 10px;\n}\n\n.toolButton span {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 15px;\n  position: relative;\n  bottom: 2px;\n}\n\n.toolIcon {\n  font-size: 20px;\n  margin-right: 5px;\n  transition: font-size 0.5s;\n  -moz-transition: font-size 0.5s; /* Firefox 4 */\n  -webkit-transition: font-size 0.5s; /* Safari 和 Chrome */\n  -o-transition: font-size 0.5s;\n}\n\n.toolIcon:hover {\n  color: #57a3f3;\n  font-size: 25px;\n}\n\n.toolSpan {\n  margin-right: 30px;\n}\n\n.crewName-little {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 17px;\n  overflow-wrap: break-word;\n  color: black;\n}\n.creatorNameSpan:hover {\n  text-decoration: underline;\n}\n</style>\n<template>\n  <div>\n    <div v-if=\"showPostBar\" style=\"margin-bottom: 10px\">\n      <Button class=\"postButton\" type=\"primary\" @click=\"handlePost\">发文</Button>\n      <Button class=\"postButton\" type=\"primary\" @click=\"handleReload\">刷新</Button>\n    </div>\n\n    <Card class=\"iMessageCard\" style=\"width:100%;\" v-for=\"item in messageItems\" :key=\"item.id\">\n      <div @click=\"jumpToMessageDetail(item.retweetorId > 0 ? item.retweetMessageId : item.id)\">\n        <Row>\n          <p v-if=\"item.retweetorId > 0\" style=\"color: rgb(155, 160, 165);\">\n            <Icon type=\"ios-repeat\" />\n            {{item.retweetorName}}转推了\n          </p>\n          <i-col span=\"2\">\n            <img\n              class=\"iMessageAvatar\"\n              v-bind:src=\"item.avatarUrl\"\n              @click.stop=\"jumpToUserCard(item.creator)\"\n            />\n          </i-col>\n          <i-col span=\"21\" style=\"margin-left: 10px\">\n            <p class=\"crewName-little\">\n              <span\n                class=\"creatorNameSpan\"\n                @click.stop=\"jumpToUserCard(item.creator)\"\n              >{{item.creatorName}}</span>\n              ·\n              <span\n                style=\"color: rgb(101, 119, 134);font-size: 15px;\"\n              >{{item.createTime.substring(0,4)}}.{{item.createTime.substring(4,6)}}.{{item.createTime.substring(6,8)}} {{item.createTime.substring(8,10)}}:{{item.createTime.substring(10,12)}}</span>\n              <span style=\"float: right\">\n                <Icon :size=\"18\" type=\"md-arrow-dropdown\"></Icon>\n              </span>\n            </p>\n            <p class=\"iMessage\" v-html=\"item.html\"></p>\n            <div class=\"toolGroup\">\n              <Icon class=\"toolIcon\" type=\"ios-chatbubbles-outline\"></Icon>\n              <span class=\"toolSpan\">{{item.commentNums}}</span>\n              <Icon\n                class=\"toolIcon\"\n                :type=\"item.retweetIconType\"\n                @click.stop=\"lock && doRetweetSwitch(item)\"\n              ></Icon>\n              <span class=\"toolSpan\">{{item.retweetNums}}</span>\n              <Icon class=\"toolIcon\" :type=\"item.iconType\" @click.stop=\"lock && doLikeSwitch(item)\"></Icon>\n              <span class=\"toolSpan\">{{item.likeNums}}</span>\n            </div>\n          </i-col>\n        </Row>\n      </div>\n    </Card>\n\n    <new-message ref=\"newMessage\" @on-success-valid=\"handleNewMessage\"></new-message>\n  </div>\n</template>\n<script>\nimport NewMessage from \"../../components/message/new-i-message\";\nimport { post, getCookie } from \"@/util/httpUtil.js\";\n\nexport default {\n  components: { NewMessage },\n  props: {\n    messageItems: {\n      type: Array\n    },\n    showPostBar: {\n      type: Boolean,\n      default: () => {\n        return true;\n      }\n    }\n  },\n  data() {\n    return {\n      iconNoLike: \"ios-heart-outline\",\n      iconLike: \"ios-heart\",\n      iconNoRetweet: \"ios-repeat\",\n      iconRetweet: \"md-repeat\",\n      lock: true, //控制按钮点击的锁,防止高频率多次点击\n      bottomHight: 50 //滚动条到某个位置才触发时间\n    };\n  },\n  computed: {\n    avatarSrc: function() {\n      return this.$store.state.avatarUrl;\n    }\n  },\n  created: function() {},\n  methods: {\n    handlePost() {\n      this.openNewMessagePannel();\n    },\n    handleReload() {\n      this.$emit(\"on-reload-request\");\n    },\n    openNewMessagePannel() {\n      this.$refs.newMessage.show = true;\n    },\n    closeNewMessagePannel() {\n      this.$refs.newMessage.show = false;\n    },\n    handleNewMessage(data) {\n      post(global.$prop.URL.newMessage, data, this.newMessageResponse);\n    },\n    newMessageResponse(responseData) {\n      global.$util.successNotice(\"发文成功\");\n      this.closeNewMessagePannel();\n      this.$emit(\"new-message-success\");\n    },\n    jumpToUserCard(id) {\n      global.$util.routerPushRestful({\n        name: \"userCard\",\n        params: { userId: id }\n      });\n    },\n    doLikeSwitch(item) {\n      let self = this;\n      //锁门\n      self.lock = false;\n      //喜欢\n      if (item.iconType == this.iconNoLike) {\n        post(\n          global.$prop.URL.doLike,\n          {\n            likerId: self.$store.state.userData.id,\n            messageId: item.retweetorId > 0 ? item.retweetMessageId : item.id,\n            messageCreator: item.creator,\n            curItem: item\n          },\n          this.doLikeResponse\n        );\n      }\n      //取消喜欢\n      else if (item.iconType == this.iconLike) {\n        post(\n          global.$prop.URL.cancelLike,\n          {\n            likerId: self.$store.state.userData.id,\n            messageId: item.retweetorId > 0 ? item.retweetMessageId : item.id,\n            messageCreator: item.creator,\n            curItem: item\n          },\n          this.cancelLikeResponse\n        );\n      }\n    },\n    doLikeResponse(responseData, data) {\n      data.curItem.iconType = this.iconLike;\n      data.curItem.likeNums = String(Number(data.curItem.likeNums) + 1);\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    cancelLikeResponse(responseData, data) {\n      data.curItem.iconType = this.iconNoLike;\n      data.curItem.likeNums = String(Number(data.curItem.likeNums) - 1);\n      if (data.curItem.likeNums == \"0\") {\n        data.curItem.likeNums = \"\";\n      }\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    doRetweetSwitch(item) {\n      let self = this;\n      //锁门\n      self.lock = false;\n      //转推\n      if (item.retweetIconType == this.iconNoRetweet) {\n        post(\n          global.$prop.URL.newReTweetMessage,\n          {\n            id: item.retweetorId > 0 ? item.retweetMessageId : item.id,\n            html: item.html,\n            createTime: item.createTime,\n            creator: item.creator,\n            curUserId: self.$store.state.userData.id,\n            curItem: item\n          },\n          this.newReTweetMessageResponse\n        );\n      }\n      //取消转推\n      else if (item.retweetIconType == this.iconRetweet) {\n        post(\n          global.$prop.URL.cancelReTweetMessage,\n          {\n            curUserId: self.$store.state.userData.id,\n            retweetMessageId:\n              item.retweetMessageId == 0 ? item.id : item.retweetMessageId,\n            curItem: item\n          },\n          this.cancelReTweetMessageResponse\n        );\n      }\n    },\n    newReTweetMessageResponse(responseData, data) {\n      data.curItem.retweetIconType = this.iconRetweet;\n      data.curItem.retweetNums = String(Number(data.curItem.retweetNums) + 1);\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    cancelReTweetMessageResponse(responseData, data) {\n      data.curItem.retweetIconType = this.iconNoRetweet;\n      data.curItem.retweetNums = String(Number(data.curItem.retweetNums) - 1);\n      if (data.curItem.retweetNums == \"0\") {\n        data.curItem.retweetNums = \"\";\n      }\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    jumpToMessageDetail(messageId) {\n      global.$util.routerPushRestful({\n        name: \"messageDetail\",\n        params: { messageId: messageId }\n      });\n    },\n    handleReachBottom() {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          const last = this.list1[this.list1.length - 1];\n          for (let i = 1; i < 11; i++) {\n            this.list1.push(last + i);\n          }\n          resolve();\n        }, 2000);\n      });\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=style&index=0&id=9ac650f0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=style&index=0&id=9ac650f0&scoped=true&lang=css&\"","const sleep = async time =>\n  new Promise(resolve => setTimeout(() => resolve(time), time))\n\nconst sleepSeconds = async timeInSeconds => sleep(timeInSeconds * 1000)\nconst sleepMinutes = async timeInMinutes => sleepSeconds(timeInMinutes * 60)\nconst sleepHours = async timeInHours => sleepMinutes(timeInHours * 60)\nconst sleepDays = async timeInDays => sleepHours(timeInDays * 24)\n\nexports = module.exports = sleep\nexports.sleep = sleep\nexports.sleepMilliseconds = sleep\nexports.sleepSeconds = sleepSeconds\nexports.sleepMinutes = sleepMinutes\nexports.sleepHours = sleepHours\nexports.sleepDays = sleepDays\n","<style scoped>\n.avatarCover {\n  height: auto;\n  width: fit-content;\n}\nimg {\n  width: 180px;\n  height: 180px;\n}\n.crewName {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 20px;\n  overflow-wrap: break-word;\n  color: black;\n  text-align: center;\n}\n.crewOther {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 15px;\n  overflow-wrap: break-word;\n  color: black;\n  text-align: center;\n}\n.followButton {\n  display: block;\n  margin: 0 auto;\n  margin-top: 7%;\n}\n</style>\n<template>\n  <Content class=\"IonaContent\">\n    <Row>\n      <i-col span=\"6\">\n        <div style=\"width: fit-content\">\n          <div class=\"avatarCover\">\n            <img :src=\"avatarSrc\" />\n          </div>\n          <div>\n            <div>\n              <p class=\"crewName\">{{userData.crewName}}</p>\n              <p class=\"crewOther\">\n                <Icon type=\"ios-mail-outline\" />\n                <a>{{userData.mail}}</a>\n              </p>\n              <p class=\"crewOther\">\n                <Icon type=\"ios-phone-portrait\" />\n                {{userData.phoneNum}}\n              </p>\n            </div>\n          </div>\n          <div>\n            <Button\n              v-if=\"!showFollow\"\n              class=\"followButton\"\n              icon=\"ios-heart-outline\"\n              type=\"info\"\n              ghost\n              :disabled=\"buttonController\"\n              @click=\"handleFollowStatus\"\n            >关注</Button>\n            <Button\n              v-if=\"showFollow\"\n              class=\"followButton\"\n              icon=\"ios-heart-outline\"\n              type=\"info\"\n              :disabled=\"buttonController\"\n              @click=\"handleFollowStatus\"\n            >取消关注</Button>\n          </div>\n        </div>\n      </i-col>\n      <i-col span=\"18\">\n        <message-list :showPostBar=\"false\" :messageItems=\"userMessageItems\"></message-list>\n      </i-col>\n    </Row>\n    <Spin fix v-if=\"loading\" style=\"z-index:1000\"></Spin>\n  </Content>\n</template>\n<script>\nimport { post, getCookie } from \"@/util/httpUtil.js\";\nimport sleep from \"sleepjs\";\nimport MessageList from \"../../components/message/message-list\";\n\nexport default {\n  components: { MessageList },\n  data() {\n    return {\n      loading: true,\n      userMessageItems: [],\n      userData: {},\n      avatarSrc: \"\",\n      showFollow: false, //true表示已关注，false表示没有关注\n      loginUserData: {},\n      buttonController: false\n    };\n  },\n  created: function() {\n    //拉取当前用户信息\n    this.initUserData(this.$route.params.userId);\n    this.initUserIMessage(this.$route.params.userId);\n    this.initFollowStatus(this.$route.params.userId);\n  },\n  methods: {\n    initUserData(userId) {\n      post(\n        global.$prop.URL.getCrew,\n        {\n          id: userId\n        },\n        this.initUserDataResponse\n      );\n    },\n    initUserDataResponse(responseData) {\n      this.userData = responseData.crew;\n      this.avatarSrc = global.$util.getAvatarUrl(this.userData.avatarUrl);\n    },\n    initUserIMessage(userId) {\n      if (userId == this.$store.state.userData.id) {\n        global.$util.routerPush(\"我的伊文\")\n      } else {\n        post(\n          global.$prop.URL.getUserMessage,\n          {\n            creator: userId,\n            curUserId: this.$store.state.userData.id\n          },\n          this.initMyIMessageResponse\n        );\n      }\n    },\n    initMyIMessageResponse(responseData) {\n      this.userMessageItems = responseData.messages;\n      this.loading = false;\n    },\n    initFollowStatus(userId) {\n      this.loginUserData = this.$store.state.userData;\n      let loginUserId = this.loginUserData.id;\n      post(\n        global.$prop.URL.isFollowing,\n        {\n          followerId: loginUserId,\n          followingId: userId\n        },\n        this.initFollowStatusResponse\n      );\n    },\n    initFollowStatusResponse(responseData) {\n      if (responseData.follow == null) {\n        this.showFollow = false;\n      } else {\n        this.showFollow = true;\n      }\n    },\n    handleFollowStatus() {\n      if (this.showFollow) {\n        this.cancelFollow();\n      } else {\n        this.addFollow();\n      }\n    },\n    cancelFollow() {\n      this.showFollow = false;\n      this.controlFollowButtonClick(true);\n      let loginUserId = this.loginUserData.id;\n      let userId = this.$route.params.userId;\n      post(\n        global.$prop.URL.cancelFollow,\n        {\n          followerId: loginUserId,\n          followingId: userId\n        },\n        this.cancelFollowResponse\n      );\n    },\n    cancelFollowResponse() {\n      this.controlFollowButtonClick(false);\n      global.$util.logger(\"取消关注成功\");\n    },\n    addFollow() {\n      this.showFollow = true;\n      this.controlFollowButtonClick(true);\n      let loginUserId = this.loginUserData.id;\n      let userId = this.$route.params.userId;\n      post(\n        global.$prop.URL.addFollow,\n        {\n          followerId: loginUserId,\n          followingId: userId\n        },\n        this.addFollowResponse\n      );\n    },\n    addFollowResponse() {\n      this.controlFollowButtonClick(false);\n      global.$util.logger(\"添加关注成功\");\n    },\n    controlFollowButtonClick(flag) {\n      this.buttonController = flag;\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=style&index=0&id=7ada9a6a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=style&index=0&id=7ada9a6a&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Drawer',{attrs:{\"title\":\"发送推文\",\"width\":\"60%\",\"placement\":\"left\",\"closable\":false},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('rich-text',{attrs:{\"showPostButton\":true},on:{\"on-success-valid\":_vm.handleNewMessage}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.text {\n  border: 1px solid rgb(29, 161, 242);\n  height: 235px;\n  border-radius: calc(16px);\n  overflow: auto;\n}\n.toolbar {\n  margin-bottom: 10px;\n}\n.placeholder {\n  color: #9197a3;\n  position: absolute;\n  z-index: 1;\n  top: 72px;\n  left: 27px;\n  font-size: 20px;\n}\n\n.show {\n  display: block;\n}\n\n.close {\n  display: none;\n}\n\n.limit {\n  color: #9197a3;\n  z-index: 1;\n  float: right;\n  margin-right: 11px;\n  position: relative;\n  top: -40px;\n  width: 50px;\n  height: 50px;\n  text-align: center;\n  font-size: 20px;\n  color: black;\n}\n.limit-red {\n  color: red;\n}\n.limit-normal {\n}\n.postButton {\n  width: 10%;\n  border-radius: 20px;\n}\n</style>\n<template>\n<!-- 外加一层div包裹防止vue懵逼,详情见https://www.v2ex.com/t/590284 -->\n  <div>\n    <Drawer title=\"发送推文\" width=\"60%\" placement=\"left\" :closable=\"false\" v-model=\"show\">\n      <rich-text @on-success-valid=\"handleNewMessage\" :showPostButton=\"true\"></rich-text>\n    </Drawer>\n  </div>\n</template>\n<script>\nimport RichText from \"../../components/message/rich-text\";\n\nexport default {\n  components: { RichText },\n  data() {\n    return {\n      show: false\n    };\n  },\n  methods: {\n    handleNewMessage(data) {\n      this.$emit(\"on-success-valid\", data);\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new-i-message.vue?vue&type=template&id=7ada9a6a&scoped=true&\"\nimport script from \"./new-i-message.vue?vue&type=script&lang=js&\"\nexport * from \"./new-i-message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./new-i-message.vue?vue&type=style&index=0&id=7ada9a6a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ada9a6a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}