(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["messageDetail"],{2273:function(t,s,e){"use strict";(function(t){var a=e("2716"),i=e("c622"),o=e("5928");s["a"]={components:{SingleMessageList:a["a"],RichText:i["a"]},props:{curMessageItems:{type:Object,default:function(){return{createTime:"300011111111"}}}},data:function(){return{show:!1}},created:function(){},methods:{handleNewReply:function(s){Object(o["c"])(t.$prop.URL.newComment,{commentatorId:s.commentatorId,html:s.html,messageId:this.curMessageItems.id,messageCreator:this.curMessageItems.creator},this.replyResponse)},replyResponse:function(){t.$util.successNotice("回复成功"),this.show=!1,this.$emit("on-reply-success")}}}}).call(this,e("c8ba"))},2716:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Card",{staticClass:"iMessageCard",staticStyle:{width:"100%"}},[e("div",[e("Row",[e("i-col",{attrs:{span:"2"}},[e("img",{staticClass:"iMessageAvatar",attrs:{src:t.curMessageItems.avatarUrl}})]),e("i-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"21"}},[e("p",{staticClass:"crewName-little"},[e("span",{staticClass:"creatorNameSpan"},[t._v(t._s(t.curMessageItems.creatorName))]),t._v("\n            ·\n            "),t.curMessageItems.createTime?e("span",{staticStyle:{color:"rgb(101, 119, 134)","font-size":"15px"}},[t._v(t._s(t.curMessageItems.createTime.substring(0,4))+"."+t._s(t.curMessageItems.createTime.substring(4,6))+"."+t._s(t.curMessageItems.createTime.substring(6,8))+" "+t._s(t.curMessageItems.createTime.substring(8,10))+":"+t._s(t.curMessageItems.createTime.substring(10,12)))]):t._e(),e("span",{staticStyle:{float:"right"}},[e("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}})],1)]),e("p",{staticClass:"iMessage",domProps:{innerHTML:t._s(t.curMessageItems.html)}})])],1)],1)])},i=[],o={components:{},props:{curMessageItems:{type:Object,default:function(){return{createTime:"300011111111"}}}},data:function(){return{}},created:function(){},methods:{}},r=o,n=(e("39d6"),e("2877")),c=Object(n["a"])(r,a,i,!1,null,"d806d74e",null);s["a"]=c.exports},"39d6":function(t,s,e){"use strict";var a=e("7ae1"),i=e.n(a);i.a},"410d":function(t,s,e){"use strict";var a=e("91d6"),i=e.n(a);i.a},4212:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Card",{staticStyle:{width:"400px"}},[e("p",{attrs:{slot:"title"},slot:"title"},[t._v("推荐用户")]),e("ul",[t._l(t.dataItems,function(s){return e("li",{key:s.id},[e("Row",[e("i-col",{attrs:{span:"2"}},[e("img",{staticClass:"avatar",attrs:{src:t.getAvatarUrl(s.avatarUrl)}})]),e("i-col",{staticStyle:{"margin-left":"10px"},attrs:{span:"21"}},[e("Row",[e("i-col",{attrs:{span:"17"}},[e("p",{staticClass:"crewName"},[e("strong",[t._v(t._s(s.crewName))])])]),e("i-col",{attrs:{span:"7"}},[0==s.isFollow?e("Button",{staticClass:"followButton",attrs:{icon:"ios-heart-outline",type:"info",disabled:t.buttonController,ghost:""},on:{click:function(e){return t.handleFollowStatus(s)}}},[t._v("关注")]):t._e(),s.isFollow>0?e("Button",{staticClass:"followButton",attrs:{icon:"ios-heart-outline",type:"info",disabled:t.buttonController},on:{click:function(e){return t.handleFollowStatus(s)}}},[t._v("取消关注")]):t._e()],1)],1),e("Row",[e("p",{staticClass:"user-introduce"},[t._v(t._s(s.crewMessage))])])],1)],1)],1)}),e("div",[e("a",{on:{click:t.changeData}},[t._v("换一批")])])],2)])},i=[],o=e("c21b"),r=o["a"],n=(e("42be"),e("2877")),c=Object(n["a"])(r,a,i,!1,null,"d383965c",null);s["a"]=c.exports},"42be":function(t,s,e){"use strict";var a=e("4519"),i=e.n(a);i.a},4519:function(t,s,e){},"7ae1":function(t,s,e){},"91d6":function(t,s,e){},a915:function(t,s,e){"use strict";(function(t){var a=e("4212"),i=e("d417"),o=e("5928");s["a"]={components:{RecommendUser:a["a"],MessageReply:i["a"]},data:function(){return{show:!1,messageDetail:{createTime:"300011111111"},replyItem:[]}},mounted:function(){this.initMessageData(this.$route.params.messageId),this.initMessageReply(this.$route.params.messageId)},methods:{goBack:function(){this.$router.go(-1)},initMessageData:function(s){Object(o["c"])(t.$prop.URL.messageDetail,{id:s,curUserId:this.$store.state.userData.id},this.initMessageDataResponse)},initMessageDataResponse:function(t){this.messageDetail=t.messageDetail},initMessageReply:function(s){Object(o["c"])(t.$prop.URL.commentList,{messageId:s},this.initMessageReplyResponse)},initMessageReplyResponse:function(t){this.replyItem=t.comments},handleReply:function(){this.$refs.messageReply.show=!0},reloadReply:function(){this.initMessageReply(this.$route.params.messageId)}}}}).call(this,e("c8ba"))},c21b:function(t,s,e){"use strict";(function(t){e("c5f6");var a=e("5928");s["a"]={components:{},props:{associatedUserId:{type:Number,default:function(){return this.$store.state.userData.id}}},data:function(){return{pagerIndex:1,pagerSize:3,dataItems:null,buttonController:!1}},created:function(){this.initData()},methods:{initData:function(){Object(a["c"])(t.$prop.URL.getRecommendUser,{associatedUserId:this.associatedUserId,curUserId:this.$store.state.userData.id,pagerIndex:this.pagerIndex,pagerSize:this.pagerSize},this.initDataResponse)},initDataResponse:function(t){this.dataItems=t.crewList,0==this.dataItems.length&&1!=this.pagerIndex?(this.pagerIndex=1,this.initData()):this.pagerIndex+=1},changeData:function(){this.initData()},getAvatarUrl:function(s){var e,a=String(s);return e=0==a.trim().length?this.$store.state.defaultAvatarUrl:t.$util.getAvatarUrl(a),e},handleFollowStatus:function(t){0==t.isFollow?this.addFollow(t):this.cancelFollow(t)},cancelFollow:function(s){s.isFollow=0,this.buttonController=!0,Object(a["c"])(t.$prop.URL.cancelFollow,{followerId:this.$store.state.userData.id,followingId:s.id},this.cancelFollowResponse)},cancelFollowResponse:function(){this.buttonController=!1},addFollow:function(s){s.isFollow=1,this.buttonController=!0,Object(a["c"])(t.$prop.URL.addFollow,{followerId:this.$store.state.userData.id,followingId:s.id},this.addFollowResponse)},addFollowResponse:function(){this.buttonController=!1}}}}).call(this,e("c8ba"))},ca79:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Content",{staticClass:"IonaContent"},[e("Row",[e("i-col",{attrs:{span:"15"}},[e("Row",{staticClass:"border"},[e("i-col",{attrs:{span:"2"}},[e("div",{staticClass:"turnBackWrap",on:{click:t.goBack}},[e("Icon",{attrs:{type:"md-arrow-back"}})],1)]),e("i-col",{attrs:{span:"19"}},[e("div",{staticClass:"headerTitle"},[t._v("推文详情")])])],1),e("Row",{staticClass:"content-header border"},[e("i-col",{attrs:{span:"2"}},[e("img",{staticClass:"iMessageAvatar",attrs:{src:t.messageDetail.avatarUrl}})]),e("i-col",{staticClass:"content-header-userdata",attrs:{span:"21"}},[e("div",{staticClass:"content-wrap"},[e("p",{staticClass:"crewName-little"},[e("span",{staticClass:"creatorNameSpan"},[t._v(t._s(t.messageDetail.creatorName))]),t._v("\n              ·\n              "),e("span",{staticStyle:{color:"rgb(101, 119, 134)","font-size":"15px"}},[t._v(t._s(t.messageDetail.createTime.substring(0,4))+"."+t._s(t.messageDetail.createTime.substring(4,6))+"."+t._s(t.messageDetail.createTime.substring(6,8))+" "+t._s(t.messageDetail.createTime.substring(8,10))+":"+t._s(t.messageDetail.createTime.substring(10,12)))]),e("span",{staticStyle:{float:"right"}},[e("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}})],1)]),e("p",[t._v("@"+t._s(t.messageDetail.mail))])])])],1),e("Row",{staticClass:"content-middle border"},[e("p",{staticClass:"iMessage",domProps:{innerHTML:t._s(t.messageDetail.html)}})]),e("Row",{staticClass:"content-middle-footer border"},[e("i-col",{attrs:{span:"3"}},[e("strong",{staticStyle:{color:"black"}},[t._v(t._s(""==t.messageDetail.retweetNums?0:t.messageDetail.retweetNums))]),t._v(" 转推\n        ")]),e("i-col",{attrs:{span:"3"}},[e("strong",{staticStyle:{color:"black"}},[t._v(t._s(""==t.messageDetail.likeNums?0:t.messageDetail.likeNums))]),t._v(" 喜欢\n        ")]),e("i-col",{attrs:{span:"16"}},[e("strong",{staticStyle:{color:"black"}},[t._v(t._s(""==t.messageDetail.viewsNums?0:t.messageDetail.viewsNums))]),t._v(" 浏览\n        ")])],1),e("Row",{staticClass:"content-middle-footer border"},[e("i-col",{staticClass:"tool-icon-wrap",attrs:{span:"6"}},[e("Icon",{staticClass:"toolIcon",attrs:{type:"ios-chatbubbles-outline"},on:{click:t.handleReply}})],1),e("i-col",{staticClass:"tool-icon-wrap",attrs:{span:"6"}},[t.messageDetail.likeRecordId<=0?e("Icon",{staticClass:"toolIcon",attrs:{type:"ios-heart-outline"}}):t._e(),t.messageDetail.likeRecordId>0?e("Icon",{staticClass:"toolIcon",attrs:{type:"ios-heart"}}):t._e()],1),e("i-col",{staticClass:"tool-icon-wrap",attrs:{span:"6"}},[t.messageDetail.doCurUserRetweet<=0?e("Icon",{staticClass:"toolIcon",attrs:{type:"ios-repeat"}}):t._e(),t.messageDetail.doCurUserRetweet>0?e("Icon",{staticClass:"toolIcon",attrs:{type:"md-repeat"}}):t._e()],1),e("i-col",{staticClass:"tool-icon-wrap",attrs:{span:"6"}},[e("Icon",{staticClass:"toolIcon",attrs:{type:"ios-redo-outline"}})],1)],1),t._l(t.replyItem,function(s){return e("Row",{key:s.id,staticClass:"comment-wrap border"},[e("i-col",{attrs:{span:"2"}},[e("img",{staticClass:"iMessageAvatar",attrs:{src:s.avatarUrl}})]),e("i-col",{staticStyle:{"margin-left":"10px","margin-bottom":"10px"},attrs:{span:"21"}},[e("p",{staticClass:"crewName-little"},[e("span",{staticClass:"creatorNameSpan"},[t._v(t._s(s.crewName))]),t._v("\n            ·\n            "),e("span",{staticStyle:{color:"rgb(101, 119, 134)","font-size":"15px"}},[t._v(t._s(s.createTime.substring(0,4))+"."+t._s(s.createTime.substring(4,6))+"."+t._s(s.createTime.substring(6,8))+" "+t._s(s.createTime.substring(8,10))+":"+t._s(s.createTime.substring(10,12)))]),e("span",{staticStyle:{float:"right"}},[e("Icon",{attrs:{size:18,type:"md-arrow-dropdown"}})],1)]),e("p",{staticClass:"iMessage",domProps:{innerHTML:t._s(s.html)}})])],1)})],2),e("i-col",{staticStyle:{"margin-left":"20px"},attrs:{span:"8"}},[e("recommend-user")],1)],1),e("message-reply",{ref:"messageReply",attrs:{curMessageItems:t.messageDetail},on:{"on-reply-success":t.reloadReply}})],1)},i=[],o=e("a915"),r=o["a"],n=(e("410d"),e("2877")),c=Object(n["a"])(r,a,i,!1,null,"7b11d8f1",null);s["default"]=c.exports},d417:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("Modal",{attrs:{title:"回复推文"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[e("Row",[e("single-message-list",{ref:"singleMessage-list",attrs:{curMessageItems:t.curMessageItems}})],1),e("Row",[e("rich-text",{attrs:{showReplyButton:!0},on:{"on-reply-success-valid":t.handleNewReply}})],1),e("div",{attrs:{slot:"footer"},slot:"footer"})],1)},i=[],o=e("2273"),r=o["a"],n=e("2877"),c=Object(n["a"])(r,a,i,!1,null,"c18dc9a2",null);s["a"]=c.exports}}]);
//# sourceMappingURL=messageDetail.19d3e93c.js.map