{"version":3,"sources":["webpack:///./src/util/EventBus.js","webpack:///./src/components/message/message-list.vue?6291","webpack:///./src/components/message/message-list.vue?a18f","webpack:///./src/components/message/message-list.vue","webpack:///./src/components/right-list/recommend-user.vue?daa8","webpack:///./src/components/right-list/recommend-user.vue?b981","webpack:///./src/components/right-list/recommend-user.vue","webpack:///./src/components/right-list/recommend-user.vue?6468","webpack:///src/components/message/message-list.vue","webpack:///./src/components/message/message-list.vue?c48e","webpack:///./src/components/message/new-i-message.vue?d259","webpack:///src/components/right-list/recommend-user.vue","webpack:///./src/components/message/new-i-message.vue?4cd5","webpack:///src/components/message/new-i-message.vue","webpack:///./src/components/message/new-i-message.vue?99f0","webpack:///./src/components/message/new-i-message.vue","webpack:///src/views/content/friends-i-message.vue","webpack:///./src/views/content/friends-i-message.vue?5350","webpack:///./src/views/content/friends-i-message.vue?2435","webpack:///./src/views/content/friends-i-message.vue"],"names":["__webpack_require__","d","__webpack_exports__","EventBus","vue__WEBPACK_IMPORTED_MODULE_0__","Vue","render","_vm","this","_h","$createElement","_c","_self","staticStyle","margin-bottom","staticClass","attrs","type","on","click","handlePost","_v","handleReload","_e","_l","item","key","id","width","$event","jumpToMessageDetail","retweetorId","retweetMessageId","color","_s","retweetorName","span","src","avatarUrl","stopPropagation","jumpToUserCard","creator","margin-left","creatorName","font-size","createTime","substring","float","size","domProps","innerHTML","html","commentNums","retweetIconType","lock","doRetweetSwitch","retweetNums","iconType","doLikeSwitch","likeNums","ref","on-success-valid","handleNewMessage","staticRenderFns","message_message_listvue_type_script_lang_js_","message_listvue_type_script_lang_js_","component","Object","componentNormalizer","slot","getAvatarUrl","crewName","isFollow","icon","disabled","buttonController","ghost","handleFollowStatus","crewMessage","changeData","right_list_recommend_uservue_type_script_lang_js_","recommend_uservue_type_script_lang_js_","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_user_vue_vue_type_style_index_0_id_d383965c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_recommend_user_vue_vue_type_style_index_0_id_d383965c_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","components","NewMessage","_components_message_new_i_message__WEBPACK_IMPORTED_MODULE_1__","props","messageItems","Array","showPostBar","Boolean","default","data","iconNoLike","iconLike","iconNoRetweet","iconRetweet","bottomHight","computed","avatarSrc","$store","state","created","methods","openNewMessagePannel","$emit","$refs","newMessage","show","closeNewMessagePannel","_util_httpUtil_js__WEBPACK_IMPORTED_MODULE_2__","global","$prop","URL","newMessageResponse","responseData","$util","successNotice","routerPushRestful","name","params","userId","self","doLike","likerId","userData","messageId","messageCreator","curItem","doLikeResponse","cancelLike","cancelLikeResponse","String","Number","newReTweetMessage","curUserId","newReTweetMessageResponse","cancelReTweetMessage","cancelReTweetMessageResponse","handleReachBottom","_this","Promise","resolve","setTimeout","last","list1","length","i","push","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_message_list_vue_vue_type_style_index_0_id_9ac650f0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_message_list_vue_vue_type_style_index_0_id_9ac650f0_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_new_i_message_vue_vue_type_style_index_0_id_7ada9a6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_new_i_message_vue_vue_type_style_index_0_id_7ada9a6a_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","associatedUserId","pagerIndex","pagerSize","dataItems","initData","_util_httpUtil_js__WEBPACK_IMPORTED_MODULE_1__","getRecommendUser","initDataResponse","crewList","avatar","url","avatar_str","trim","defaultAvatarUrl","addFollow","cancelFollow","followerId","followingId","cancelFollowResponse","addFollowResponse","title","placement","closable","model","value","callback","$$v","expression","showPostButton","new_i_messagevue_type_script_lang_js_","RichText","rich_text","message_new_i_messagevue_type_script_lang_js_","MessageList","_components_message_message_list__WEBPACK_IMPORTED_MODULE_0__","RecommendUser","_components_right_list_recommend_user__WEBPACK_IMPORTED_MODULE_1__","loading","switchs","friendMessageItems","pager","index","initFriendIMessage","_util_EventBus_js__WEBPACK_IMPORTED_MODULE_3__","$on","handleScrollButtom","getFriendMessage","message","handleScrollButtomResponse","messages","concat","logger","initFriendIMessageResponse","new-message-success","on-reload-request","fix","content_friends_i_messagevue_type_script_lang_js_","friends_i_messagevue_type_script_lang_js_"],"mappings":"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","file":"js/ionaDynamic.1be66065.js","sourcesContent":["// 本项目的事件总线，用于非父子关系组件的通知\nimport Vue from 'vue'\nexport const EventBus = new Vue();","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showPostBar)?_c('div',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('Button',{staticClass:\"postButton\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handlePost}},[_vm._v(\"发文\")]),_c('Button',{staticClass:\"postButton\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleReload}},[_vm._v(\"刷新\")])],1):_vm._e(),_vm._l((_vm.messageItems),function(item){return _c('Card',{key:item.id,staticClass:\"iMessageCard\",staticStyle:{\"width\":\"100%\"}},[_c('div',{on:{\"click\":function($event){return _vm.jumpToMessageDetail(item.retweetorId > 0 ? item.retweetMessageId : item.id)}}},[_c('Row',[(item.retweetorId > 0)?_c('p',{staticStyle:{\"color\":\"rgb(155, 160, 165)\"}},[_c('Icon',{attrs:{\"type\":\"ios-repeat\"}}),_vm._v(\"\\n          \"+_vm._s(item.retweetorName)+\"转推了\\n        \")],1):_vm._e(),_c('i-col',{attrs:{\"span\":\"2\"}},[_c('img',{staticClass:\"iMessageAvatar\",attrs:{\"src\":item.avatarUrl},on:{\"click\":function($event){$event.stopPropagation();return _vm.jumpToUserCard(item.creator)}}})]),_c('i-col',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"span\":\"21\"}},[_c('p',{staticClass:\"crewName-little\"},[_c('span',{staticClass:\"creatorNameSpan\",on:{\"click\":function($event){$event.stopPropagation();return _vm.jumpToUserCard(item.creator)}}},[_vm._v(_vm._s(item.creatorName))]),_vm._v(\"\\n            ·\\n            \"),_c('span',{staticStyle:{\"color\":\"rgb(101, 119, 134)\",\"font-size\":\"15px\"}},[_vm._v(_vm._s(item.createTime.substring(0,4))+\".\"+_vm._s(item.createTime.substring(4,6))+\".\"+_vm._s(item.createTime.substring(6,8))+\" \"+_vm._s(item.createTime.substring(8,10))+\":\"+_vm._s(item.createTime.substring(10,12)))]),_c('span',{staticStyle:{\"float\":\"right\"}},[_c('Icon',{attrs:{\"size\":18,\"type\":\"md-arrow-dropdown\"}})],1)]),_c('p',{staticClass:\"iMessage\",domProps:{\"innerHTML\":_vm._s(item.html)}}),_c('div',{staticClass:\"toolGroup\"},[_c('Icon',{staticClass:\"toolIcon\",attrs:{\"type\":\"ios-chatbubbles-outline\"}}),_c('span',{staticClass:\"toolSpan\"},[_vm._v(_vm._s(item.commentNums))]),_c('Icon',{staticClass:\"toolIcon\",attrs:{\"type\":item.retweetIconType},on:{\"click\":function($event){$event.stopPropagation();_vm.lock && _vm.doRetweetSwitch(item)}}}),_c('span',{staticClass:\"toolSpan\"},[_vm._v(_vm._s(item.retweetNums))]),_c('Icon',{staticClass:\"toolIcon\",attrs:{\"type\":item.iconType},on:{\"click\":function($event){$event.stopPropagation();_vm.lock && _vm.doLikeSwitch(item)}}}),_c('span',{staticClass:\"toolSpan\"},[_vm._v(_vm._s(item.likeNums))])],1)])],1)],1)])}),_c('new-message',{ref:\"newMessage\",on:{\"on-success-valid\":_vm.handleNewMessage}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./message-list.vue?vue&type=template&id=9ac650f0&scoped=true&\"\nimport script from \"./message-list.vue?vue&type=script&lang=js&\"\nexport * from \"./message-list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./message-list.vue?vue&type=style&index=0&id=9ac650f0&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ac650f0\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Card',{staticStyle:{\"width\":\"400px\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"推荐用户\")]),_c('ul',[_vm._l((_vm.dataItems),function(item){return _c('li',{key:item.id},[_c('Row',[_c('i-col',{attrs:{\"span\":\"2\"}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.getAvatarUrl(item.avatarUrl)}})]),_c('i-col',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"span\":\"21\"}},[_c('Row',[_c('i-col',{attrs:{\"span\":\"17\"}},[_c('p',{staticClass:\"crewName\"},[_c('strong',[_vm._v(_vm._s(item.crewName))])])]),_c('i-col',{attrs:{\"span\":\"7\"}},[(item.isFollow == 0)?_c('Button',{staticClass:\"followButton\",attrs:{\"icon\":\"ios-heart-outline\",\"type\":\"info\",\"disabled\":_vm.buttonController,\"ghost\":\"\"},on:{\"click\":function($event){return _vm.handleFollowStatus(item)}}},[_vm._v(\"关注\")]):_vm._e(),(item.isFollow > 0)?_c('Button',{staticClass:\"followButton\",attrs:{\"icon\":\"ios-heart-outline\",\"type\":\"info\",\"disabled\":_vm.buttonController},on:{\"click\":function($event){return _vm.handleFollowStatus(item)}}},[_vm._v(\"取消关注\")]):_vm._e()],1)],1),_c('Row',[_c('p',{staticClass:\"user-introduce\"},[_vm._v(_vm._s(item.crewMessage))])])],1)],1)],1)}),_c('div',[_c('a',{on:{\"click\":_vm.changeData}},[_vm._v(\"换一批\")])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend-user.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend-user.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recommend-user.vue?vue&type=template&id=d383965c&scoped=true&\"\nimport script from \"./recommend-user.vue?vue&type=script&lang=js&\"\nexport * from \"./recommend-user.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recommend-user.vue?vue&type=style&index=0&id=d383965c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d383965c\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend-user.vue?vue&type=style&index=0&id=d383965c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./recommend-user.vue?vue&type=style&index=0&id=d383965c&scoped=true&lang=css&\"","<style scoped>\n.postButton {\n  width: 10%;\n  border-radius: 20px;\n  margin-right: 20px;\n}\n.iMessageCard {\n  margin-bottom: 10px;\n  cursor: pointer;\n}\n\n.iMessage {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 17px;\n  overflow-wrap: break-word;\n  margin-top: 5px;\n  white-space: pre-wrap;\n}\n.toolGroup {\n  margin-top: 10px;\n}\n\n.toolButton span {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 15px;\n  position: relative;\n  bottom: 2px;\n}\n\n.toolIcon {\n  font-size: 20px;\n  margin-right: 5px;\n  transition: font-size 0.5s;\n  -moz-transition: font-size 0.5s; /* Firefox 4 */\n  -webkit-transition: font-size 0.5s; /* Safari 和 Chrome */\n  -o-transition: font-size 0.5s;\n}\n\n.toolIcon:hover {\n  color: #57a3f3;\n  font-size: 25px;\n}\n\n.toolSpan {\n  margin-right: 30px;\n}\n\n.crewName-little {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 17px;\n  overflow-wrap: break-word;\n  color: black;\n}\n.creatorNameSpan:hover {\n  text-decoration: underline;\n}\n</style>\n<template>\n  <div>\n    <div v-if=\"showPostBar\" style=\"margin-bottom: 10px\">\n      <Button class=\"postButton\" type=\"primary\" @click=\"handlePost\">发文</Button>\n      <Button class=\"postButton\" type=\"primary\" @click=\"handleReload\">刷新</Button>\n    </div>\n\n    <Card class=\"iMessageCard\" style=\"width:100%;\" v-for=\"item in messageItems\" :key=\"item.id\">\n      <div @click=\"jumpToMessageDetail(item.retweetorId > 0 ? item.retweetMessageId : item.id)\">\n        <Row>\n          <p v-if=\"item.retweetorId > 0\" style=\"color: rgb(155, 160, 165);\">\n            <Icon type=\"ios-repeat\" />\n            {{item.retweetorName}}转推了\n          </p>\n          <i-col span=\"2\">\n            <img\n              class=\"iMessageAvatar\"\n              v-bind:src=\"item.avatarUrl\"\n              @click.stop=\"jumpToUserCard(item.creator)\"\n            />\n          </i-col>\n          <i-col span=\"21\" style=\"margin-left: 10px\">\n            <p class=\"crewName-little\">\n              <span\n                class=\"creatorNameSpan\"\n                @click.stop=\"jumpToUserCard(item.creator)\"\n              >{{item.creatorName}}</span>\n              ·\n              <span\n                style=\"color: rgb(101, 119, 134);font-size: 15px;\"\n              >{{item.createTime.substring(0,4)}}.{{item.createTime.substring(4,6)}}.{{item.createTime.substring(6,8)}} {{item.createTime.substring(8,10)}}:{{item.createTime.substring(10,12)}}</span>\n              <span style=\"float: right\">\n                <Icon :size=\"18\" type=\"md-arrow-dropdown\"></Icon>\n              </span>\n            </p>\n            <p class=\"iMessage\" v-html=\"item.html\"></p>\n            <div class=\"toolGroup\">\n              <Icon class=\"toolIcon\" type=\"ios-chatbubbles-outline\"></Icon>\n              <span class=\"toolSpan\">{{item.commentNums}}</span>\n              <Icon\n                class=\"toolIcon\"\n                :type=\"item.retweetIconType\"\n                @click.stop=\"lock && doRetweetSwitch(item)\"\n              ></Icon>\n              <span class=\"toolSpan\">{{item.retweetNums}}</span>\n              <Icon class=\"toolIcon\" :type=\"item.iconType\" @click.stop=\"lock && doLikeSwitch(item)\"></Icon>\n              <span class=\"toolSpan\">{{item.likeNums}}</span>\n            </div>\n          </i-col>\n        </Row>\n      </div>\n    </Card>\n\n    <new-message ref=\"newMessage\" @on-success-valid=\"handleNewMessage\"></new-message>\n  </div>\n</template>\n<script>\nimport NewMessage from \"../../components/message/new-i-message\";\nimport { post, getCookie } from \"@/util/httpUtil.js\";\n\nexport default {\n  components: { NewMessage },\n  props: {\n    messageItems: {\n      type: Array\n    },\n    showPostBar: {\n      type: Boolean,\n      default: () => {\n        return true;\n      }\n    }\n  },\n  data() {\n    return {\n      iconNoLike: \"ios-heart-outline\",\n      iconLike: \"ios-heart\",\n      iconNoRetweet: \"ios-repeat\",\n      iconRetweet: \"md-repeat\",\n      lock: true, //控制按钮点击的锁,防止高频率多次点击\n      bottomHight: 50 //滚动条到某个位置才触发时间\n    };\n  },\n  computed: {\n    avatarSrc: function() {\n      return this.$store.state.avatarUrl;\n    }\n  },\n  created: function() {},\n  methods: {\n    handlePost() {\n      this.openNewMessagePannel();\n    },\n    handleReload() {\n      this.$emit(\"on-reload-request\");\n    },\n    openNewMessagePannel() {\n      this.$refs.newMessage.show = true;\n    },\n    closeNewMessagePannel() {\n      this.$refs.newMessage.show = false;\n    },\n    handleNewMessage(data) {\n      post(global.$prop.URL.newMessage, data, this.newMessageResponse);\n    },\n    newMessageResponse(responseData) {\n      global.$util.successNotice(\"发文成功\");\n      this.closeNewMessagePannel();\n      this.$emit(\"new-message-success\");\n    },\n    jumpToUserCard(id) {\n      global.$util.routerPushRestful({\n        name: \"userCard\",\n        params: { userId: id }\n      });\n    },\n    doLikeSwitch(item) {\n      let self = this;\n      //锁门\n      self.lock = false;\n      //喜欢\n      if (item.iconType == this.iconNoLike) {\n        post(\n          global.$prop.URL.doLike,\n          {\n            likerId: self.$store.state.userData.id,\n            messageId: item.retweetorId > 0 ? item.retweetMessageId : item.id,\n            messageCreator: item.creator,\n            curItem: item\n          },\n          this.doLikeResponse\n        );\n      }\n      //取消喜欢\n      else if (item.iconType == this.iconLike) {\n        post(\n          global.$prop.URL.cancelLike,\n          {\n            likerId: self.$store.state.userData.id,\n            messageId: item.retweetorId > 0 ? item.retweetMessageId : item.id,\n            messageCreator: item.creator,\n            curItem: item\n          },\n          this.cancelLikeResponse\n        );\n      }\n    },\n    doLikeResponse(responseData, data) {\n      data.curItem.iconType = this.iconLike;\n      data.curItem.likeNums = String(Number(data.curItem.likeNums) + 1);\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    cancelLikeResponse(responseData, data) {\n      data.curItem.iconType = this.iconNoLike;\n      data.curItem.likeNums = String(Number(data.curItem.likeNums) - 1);\n      if (data.curItem.likeNums == \"0\") {\n        data.curItem.likeNums = \"\";\n      }\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    doRetweetSwitch(item) {\n      let self = this;\n      //锁门\n      self.lock = false;\n      //转推\n      if (item.retweetIconType == this.iconNoRetweet) {\n        post(\n          global.$prop.URL.newReTweetMessage,\n          {\n            id: item.retweetorId > 0 ? item.retweetMessageId : item.id,\n            html: item.html,\n            createTime: item.createTime,\n            creator: item.creator,\n            curUserId: self.$store.state.userData.id,\n            curItem: item\n          },\n          this.newReTweetMessageResponse\n        );\n      }\n      //取消转推\n      else if (item.retweetIconType == this.iconRetweet) {\n        post(\n          global.$prop.URL.cancelReTweetMessage,\n          {\n            curUserId: self.$store.state.userData.id,\n            retweetMessageId:\n              item.retweetMessageId == 0 ? item.id : item.retweetMessageId,\n            curItem: item\n          },\n          this.cancelReTweetMessageResponse\n        );\n      }\n    },\n    newReTweetMessageResponse(responseData, data) {\n      data.curItem.retweetIconType = this.iconRetweet;\n      data.curItem.retweetNums = String(Number(data.curItem.retweetNums) + 1);\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    cancelReTweetMessageResponse(responseData, data) {\n      data.curItem.retweetIconType = this.iconNoRetweet;\n      data.curItem.retweetNums = String(Number(data.curItem.retweetNums) - 1);\n      if (data.curItem.retweetNums == \"0\") {\n        data.curItem.retweetNums = \"\";\n      }\n      this.lock = true; //解锁\n      this.handleReload(); //取消转推手动触发刷新，提高下体验\n    },\n    jumpToMessageDetail(messageId) {\n      global.$util.routerPushRestful({\n        name: \"messageDetail\",\n        params: { messageId: messageId }\n      });\n    },\n    handleReachBottom() {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          const last = this.list1[this.list1.length - 1];\n          for (let i = 1; i < 11; i++) {\n            this.list1.push(last + i);\n          }\n          resolve();\n        }, 2000);\n      });\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=style&index=0&id=9ac650f0&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./message-list.vue?vue&type=style&index=0&id=9ac650f0&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=style&index=0&id=7ada9a6a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=style&index=0&id=7ada9a6a&scoped=true&lang=css&\"","<style scoped>\n.avatar {\n  width: 100%;\n  height: 100%;\n  border-bottom-left-radius: 9999px;\n  border-bottom-right-radius: 9999px;\n  border-top-left-radius: 9999px;\n  border-top-right-radius: 9999px;\n}\n.user-introduce {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 12px;\n  overflow-wrap: break-word;\n  margin-top: 5px;\n  white-space: pre-wrap;\n  color: black;\n  margin-bottom: 20px;\n}\n.crewName {\n  font-family: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto,\n    Ubuntu, \"Helvetica Neue\", sans-serif;\n  font-size: 14px;\n  margin-top: 5px;\n  margin-bottom: 8px;\n  color: black;\n  width: 100%;\n  /* 省略显示 */\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -o-text-overflow: ellipsis;\n  -icab-text-overflow: ellipsis;\n  -khtml-text-overflow: ellipsis;\n  -moz-text-overflow: ellipsis;\n  -webkit-text-overflow: ellipsis;\n}\n.followButton {\n  padding-left: 5px;\n  padding-right: 5px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n  border-bottom-left-radius: 9999px;\n  border-bottom-right-radius: 9999px;\n  border-top-left-radius: 9999px;\n  border-top-right-radius: 9999px;\n  width: 90%;\n}\nul li {\n  margin-bottom: 10px;\n  border-bottom-color: rgb(230, 236, 240);\n  border-bottom-style: solid;\n  border-bottom-width: 1px;\n}\n</style>\n<template>\n  <Card style=\"width:400px\">\n    <p slot=\"title\">推荐用户</p>\n    <ul>\n      <li v-for=\"item in dataItems\" :key=\"item.id\">\n        <Row>\n          <i-col span=\"2\">\n            <img class=\"avatar\" :src=\"getAvatarUrl(item.avatarUrl)\" />\n          </i-col>\n          <i-col span=\"21\" style=\"margin-left: 10px\">\n            <Row>\n              <i-col span=\"17\">\n                <p class=\"crewName\">\n                  <strong>{{item.crewName}}</strong>\n                </p>\n              </i-col>\n              <i-col span=\"7\">\n                <Button\n                  v-if=\"item.isFollow == 0\"\n                  class=\"followButton\"\n                  icon=\"ios-heart-outline\"\n                  type=\"info\"\n                  :disabled=\"buttonController\"\n                  @click=\"handleFollowStatus(item)\"\n                  ghost\n                >关注</Button>\n                <Button\n                  v-if=\"item.isFollow > 0\"\n                  class=\"followButton\"\n                  icon=\"ios-heart-outline\"\n                  type=\"info\"\n                  :disabled=\"buttonController\"\n                  @click=\"handleFollowStatus(item)\"\n                >取消关注</Button>\n              </i-col>\n            </Row>\n            <Row>\n              <p class=\"user-introduce\">{{item.crewMessage}}</p>\n            </Row>\n          </i-col>\n        </Row>\n      </li>\n      <div>\n        <a @click=\"changeData\">换一批</a>\n      </div>\n    </ul>\n  </Card>\n</template>\n<script>\nimport { post, getCookie } from \"@/util/httpUtil.js\";\n\nexport default {\n  components: {},\n  props: {\n    // 根据此User去计算推荐用户\n    associatedUserId: {\n      type: Number,\n      default: function() {\n        return this.$store.state.userData.id;\n      }\n    }\n  },\n  data() {\n    return {\n      pagerIndex: 1,\n      pagerSize: 3,\n      dataItems: null,\n      buttonController: false\n    };\n  },\n  created: function() {\n    this.initData();\n  },\n  methods: {\n    initData() {\n      post(\n        global.$prop.URL.getRecommendUser,\n        {\n          associatedUserId: this.associatedUserId,\n          curUserId: this.$store.state.userData.id,\n          pagerIndex: this.pagerIndex,\n          pagerSize: this.pagerSize\n        },\n        this.initDataResponse\n      );\n    },\n    initDataResponse(responseData) {\n      this.dataItems = responseData.crewList;\n      //若发现换一批换到底了，重新第一页开始\n      if (this.dataItems.length == 0 && this.pagerIndex != 1) {\n        this.pagerIndex = 1;\n        this.initData();\n      } else {\n        this.pagerIndex += 1;\n      }\n    },\n    changeData() {\n      this.initData();\n    },\n    getAvatarUrl(avatar) {\n      let url;\n      let avatar_str = String(avatar);\n      if (avatar_str.trim().length == 0) {\n        url = this.$store.state.defaultAvatarUrl;\n      } else {\n        url = global.$util.getAvatarUrl(avatar_str);\n      }\n      return url;\n    },\n    handleFollowStatus(item) {\n      if (item.isFollow == 0) {\n        this.addFollow(item);\n      } else {\n        this.cancelFollow(item);\n      }\n    },\n    cancelFollow(item) {\n      item.isFollow = 0;\n      this.buttonController = true;\n      post(\n        global.$prop.URL.cancelFollow,\n        {\n          followerId: this.$store.state.userData.id,\n          followingId: item.id\n        },\n        this.cancelFollowResponse\n      );\n    },\n    cancelFollowResponse() {\n      this.buttonController = false;\n    },\n    addFollow(item) {\n      item.isFollow = 1;\n      this.buttonController = true;\n      post(\n        global.$prop.URL.addFollow,\n        {\n          followerId: this.$store.state.userData.id,\n          followingId: item.id\n        },\n        this.addFollowResponse\n      );\n    },\n    addFollowResponse() {\n      this.buttonController = false;\n    }\n  }\n};\n</script>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Drawer',{attrs:{\"title\":\"发送推文\",\"width\":\"60%\",\"placement\":\"left\",\"closable\":false},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('rich-text',{attrs:{\"showPostButton\":true},on:{\"on-success-valid\":_vm.handleNewMessage}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<style scoped>\n.text {\n  border: 1px solid rgb(29, 161, 242);\n  height: 235px;\n  border-radius: calc(16px);\n  overflow: auto;\n}\n.toolbar {\n  margin-bottom: 10px;\n}\n.placeholder {\n  color: #9197a3;\n  position: absolute;\n  z-index: 1;\n  top: 72px;\n  left: 27px;\n  font-size: 20px;\n}\n\n.show {\n  display: block;\n}\n\n.close {\n  display: none;\n}\n\n.limit {\n  color: #9197a3;\n  z-index: 1;\n  float: right;\n  margin-right: 11px;\n  position: relative;\n  top: -40px;\n  width: 50px;\n  height: 50px;\n  text-align: center;\n  font-size: 20px;\n  color: black;\n}\n.limit-red {\n  color: red;\n}\n.limit-normal {\n}\n.postButton {\n  width: 10%;\n  border-radius: 20px;\n}\n</style>\n<template>\n<!-- 外加一层div包裹防止vue懵逼,详情见https://www.v2ex.com/t/590284 -->\n  <div>\n    <Drawer title=\"发送推文\" width=\"60%\" placement=\"left\" :closable=\"false\" v-model=\"show\">\n      <rich-text @on-success-valid=\"handleNewMessage\" :showPostButton=\"true\"></rich-text>\n    </Drawer>\n  </div>\n</template>\n<script>\nimport RichText from \"../../components/message/rich-text\";\n\nexport default {\n  components: { RichText },\n  data() {\n    return {\n      show: false\n    };\n  },\n  methods: {\n    handleNewMessage(data) {\n      this.$emit(\"on-success-valid\", data);\n    }\n  }\n};\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./new-i-message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new-i-message.vue?vue&type=template&id=7ada9a6a&scoped=true&\"\nimport script from \"./new-i-message.vue?vue&type=script&lang=js&\"\nexport * from \"./new-i-message.vue?vue&type=script&lang=js&\"\nimport style0 from \"./new-i-message.vue?vue&type=style&index=0&id=7ada9a6a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ada9a6a\",\n  null\n  \n)\n\nexport default component.exports","<style scoped>\n</style>\n<template>\n  <Content class=\"IonaContent\">\n    <Row>\n      <i-col span=\"15\">\n        <message-list\n          v-if=\"!loading\"\n          :showPostBar=\"true\"\n          @new-message-success=\"handleReload\"\n          @on-reload-request=\"handleReload\"\n          :messageItems=\"friendMessageItems\"\n        ></message-list>\n      </i-col>\n      <i-col span=\"8\" style=\"margin-left: 20px\">\n        <recommend-user></recommend-user>\n      </i-col>\n    </Row>\n    <Spin fix v-if=\"loading\"></Spin>\n  </Content>\n</template>\n<script>\nimport MessageList from \"../../components/message/message-list\";\nimport RecommendUser from \"../../components/right-list/recommend-user\";\nimport { post, getCookie } from \"@/util/httpUtil.js\";\nimport { EventBus } from \"@/util/EventBus.js\";\n\nexport default {\n  components: { MessageList, RecommendUser },\n  data() {\n    return {\n      loading: false,\n      switchs: false,\n      friendMessageItems: [],\n      pager: {\n        index: 1,\n        size: 10\n      }\n    };\n  },\n  created: function() {\n    //拉取个人伊文\n    this.initFriendIMessage();\n    EventBus.$on(\"on-scroll-buttom\", () => {\n      this.handleScrollButtom();\n    });\n  },\n  methods: {\n    handleScrollButtom() {\n      this.pager.index += 1;\n      let self = this;\n      post(\n        global.$prop.URL.getFriendMessage,\n        {\n          message: {\n            id: this.$store.state.userData.id\n          },\n          pager: self.pager\n        },\n        this.handleScrollButtomResponse\n      );\n    },\n    handleScrollButtomResponse(responseData) {\n      if (responseData.messages.length > 0) {\n        this.friendMessageItems = this.friendMessageItems.concat(\n          responseData.messages\n        );\n        EventBus.$emit(\"on-scroll-buttom-success\");\n      } else {\n        global.$util.logger(\"已无更多数据\");\n      }\n    },\n    initFriendIMessage() {\n      //重置pager\n      this.pager.index = 1;\n      let self = this;\n      post(\n        global.$prop.URL.getFriendMessage,\n        {\n          message: {\n            id: this.$store.state.userData.id\n          },\n          pager: self.pager\n        },\n        this.initFriendIMessageResponse\n      );\n    },\n    initFriendIMessageResponse(responseData) {\n      this.friendMessageItems = responseData.messages;\n      this.loading = false;\n    },\n    handleReload() {\n      this.initFriendIMessage();\n    }\n  }\n};\n</script>","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Content',{staticClass:\"IonaContent\"},[_c('Row',[_c('i-col',{attrs:{\"span\":\"15\"}},[(!_vm.loading)?_c('message-list',{attrs:{\"showPostBar\":true,\"messageItems\":_vm.friendMessageItems},on:{\"new-message-success\":_vm.handleReload,\"on-reload-request\":_vm.handleReload}}):_vm._e()],1),_c('i-col',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"span\":\"8\"}},[_c('recommend-user')],1)],1),(_vm.loading)?_c('Spin',{attrs:{\"fix\":\"\"}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./friends-i-message.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./friends-i-message.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./friends-i-message.vue?vue&type=template&id=7bc1aab9&scoped=true&\"\nimport script from \"./friends-i-message.vue?vue&type=script&lang=js&\"\nexport * from \"./friends-i-message.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7bc1aab9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}